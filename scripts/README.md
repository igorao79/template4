# üîß –ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã GLB —Ñ–∞–π–ª–æ–≤

–ù–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–∂–∞—Ç–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ 3D –º–æ–¥–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ GLB.

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã

### 1. –ü–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä (compress-models.js)
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- Draco compression –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç—É—Ä
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- gltf-pipeline (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–∂–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏
npm run compress-models

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
node scripts/compress-models.js compress

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
npm run restore-models
```

### 2. –ü—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä (simple-compress.js)
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ GLB —Ñ–∞–π–ª–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JSON —á–∞—Å—Ç–∏
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ—Å—Ç–æ–µ —Å–∂–∞—Ç–∏–µ
npm run simple-compress

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
node scripts/simple-compress.js
```

## üéØ –ö–∞–∫–æ–π –≤—ã–±—Ä–∞—Ç—å?

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä** –µ—Å–ª–∏:
- –ù—É–∂–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
- –ú–æ–¥–µ–ª–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ (>10MB)
- –ì–æ—Ç–æ–≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä** –µ—Å–ª–∏:
- –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ–µ —Å–∂–∞—Ç–∏–µ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ú–æ–¥–µ–ª–∏ —Å—Ä–µ–¥–Ω–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ (1-10MB)
- –ù—É–∂–Ω–∞ –±–∞–∑–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ —Å–∂–∞—Ç–∏–µ

| –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö | –ü–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä | –ü—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä |
|------------|-------------------|-------------------|
| –ì–µ–æ–º–µ—Ç—Ä–∏—è  | 60-80%           | 10-20%            |
| –¢–µ–∫—Å—Ç—É—Ä—ã   | 30-50%           | 5-15%             |
| –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä | 40-70%         | 15-30%            |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
public/models/
‚îú‚îÄ‚îÄ your-model.glb          # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω)
‚îú‚îÄ‚îÄ original/               # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ your-model.glb
‚îî‚îÄ‚îÄ compressed/             # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã
    ‚îî‚îÄ‚îÄ your-model.glb
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∂–∞—Ç–∏—è

### –ü–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `COMPRESSION_CONFIG` –≤ `compress-models.js`:

```javascript
const COMPRESSION_CONFIG = {
  draco: {
    compressionLevel: 7,    // 0-10, –±–æ–ª—å—à–µ = –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä
    quantizePosition: 14,   // 8-16, –º–µ–Ω—å—à–µ = –±–æ–ª—å—à–µ —Å–∂–∞—Ç–∏–µ
    quantizeNormal: 10,     // 8-16
    quantizeTexcoord: 12,   // 8-16
    quantizeColor: 8,       // 8-16
  }
};
```

### –ü—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ `optimizeGLTFJson()` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** –ø–µ—Ä–µ–¥ —Å–∂–∞—Ç–∏–µ–º
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª–∏** –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞** –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –æ–ø—ã—Ç–∞
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "gltf-pipeline –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
npm install -g gltf-pipeline
```

### –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
npm run restore-models

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä
npm run simple-compress
```

### –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ —Å–∂–∞—Ç–∏–µ
- –£–≤–µ–ª–∏—á—å—Ç–µ `compressionLevel` –¥–æ 10
- –£–º–µ–Ω—å—à–∏—Ç–µ `quantizePosition` –¥–æ 8-10
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∂–∏–º–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
- –†–∞–∑–º–µ—Ä –¥–æ –∏ –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∂–∞—Ç–∏—è
- –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```
üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
==================================================
model1.glb:
  üì¶ 15.2 MB ‚Üí 4.3 MB (71.7%)
model2.glb:
  üì¶ 8.7 MB ‚Üí 2.1 MB (75.9%)
==================================================
üìà –û–ë–©–ï–ï –°–ñ–ê–¢–ò–ï: 23.9 MB ‚Üí 6.4 MB
üéØ –≠–ö–û–ù–û–ú–ò–Ø: 17.5 MB (73.2%)
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è –≤–∞—à–∏ –º–æ–¥–µ–ª–∏ –±—É–¥—É—Ç:
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ
- ‚úÖ –ó–∞–Ω–∏–º–∞—Ç—å –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ 